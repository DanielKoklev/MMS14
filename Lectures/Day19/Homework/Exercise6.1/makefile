src = $(wildcard *.c) #взима всички .с файлове от текущата директория
obj = $(src:.c=.o) #променливи за обектите, където всички обекти са със същите имена като .с файлвоете

LDFLAGS = -lGL -lglut -lpng -lz -lm #флагове с които да се компилира файлът

myprog: $(obj) #зависимостите на таргета са, всички файлове в променливата за обекти
    $(CC) -o $@ $^ $(LDFLAGS) #(СС) е променлива за gcc, но май е изпуснато да се декларира, следва името на файла, който е в таргет и неговите зависимости да се компилират със зададените флагове

.PHONY: clean # тук е обозначено clean да не се бърка с име на файл
clean: # тук се изчистват всички .о файлове + таргета, в случая "myprog"
    rm -f $(obj) myprog
